{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { CanvasElement } from '../../../../projects/angular-canvas-lib/src/lib';\nlet TriangleElement = class TriangleElement {\n  constructor() {\n    this.x1 = 75;\n    this.x2 = 150;\n    this.x3 = 150;\n    this.y1 = 60;\n    this.y2 = 95;\n    this.y3 = 25;\n    this.fillStyle = 'red';\n    this.hovered = false;\n    this.callbackFunc = {};\n  }\n\n  addEventListener(eventName, callbackFunc) {\n    this.callbackFunc[eventName] = callbackFunc;\n  }\n\n  setNgProperty(name, value) {\n    this[name] = value;\n    this.x && this.y && this.checkHover();\n    this.parent.drawAll();\n  }\n\n  draw(ctx) {\n    // context.fillRect(this.x, this.y, this.w, this.h);\n    ctx.beginPath();\n    ctx.moveTo(this.x1, this.y1);\n    ctx.lineTo(this.x2, this.y2);\n    ctx.lineTo(this.x3, this.y3);\n    ctx.fillStyle = this.fillStyle;\n    ctx.fill();\n  }\n\n  checkHover() {\n    const x1 = this.x1;\n    const x2 = this.x2;\n    const x3 = this.x3;\n    const y1 = this.y1;\n    const y2 = this.y2;\n    const y3 = this.y3;\n    const x = this.x;\n    const y = this.y;\n    const d = [(x1 - x) * (y2 - y1) - (x2 - x1) * (y1 - y) > 0, (x2 - x) * (y3 - y2) - (x3 - x2) * (y2 - y) > 0, (x3 - x) * (y1 - y3) - (x1 - x3) * (y3 - y) > 0];\n    const trues = d.every(v => v === true);\n    const falses = d.every(v => v === false);\n    const hovered = trues || falses;\n\n    if (this.hovered !== hovered) {\n      this.hovered = hovered;\n\n      if (hovered) {\n        this.fillStyle = 'green';\n        this.callbackFunc.hovered();\n      } else {\n        this.fillStyle = 'red';\n        this.callbackFunc.unhovered();\n      }\n    }\n  }\n\n};\nTriangleElement = __decorate([CanvasElement({\n  selector: 'triangle'\n})], TriangleElement);\nexport { TriangleElement };","map":null,"metadata":{},"sourceType":"module"}